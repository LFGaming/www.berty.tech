{{.Scratch.Set "navbar-class" "navbar-home" }} {{ partial "head" . }}

<section class="section-header">
  <div class="section-bg bg-purple gradient">
    <div class="particles" id="particles-js-1"></div>
    <img src="/img/wave_blue.svg" class="img img-wave" />
    <div class="container">
      <div class="img img-planet-purple">
        {{ partial "img" (dict "ctx" . "src" "/img/planet_purple.png" "layout"
        "fill")}}
      </div>
      <div class="img img-planet-pink">
        {{ partial "img" (dict "ctx" . "src" "/img/planet_pink.png" "layout"
        "fill")}}
      </div>
    </div>
    <!-- /.container -->
    <img id=wave_bottom src="/img/wave_bottom.svg" class="img img-wave-bottom" />
    <div class="img img-planet-orange">
      {{ partial "img" (dict "ctx" . "src" "/img/planet_orange.png" "layout"
      "fill")}}
    </div>
  </div>
  <!-- /.header-bg -->
  <div class="section-content">
    <div class="container">
      <div class="row">
        <div class="col-md-6 header-left">
          <h1>Unstoppable P2P Communication</h1>
          <br />
          <h4>
            Berty NGOâ€™s aim is to facilitate open and free communication without
            any limitations imposed by centralized systems.
          </h4>
        </div>
        <!-- /.col /.header-left -->
        <div class="col-md-6 header-right">
          <div class="img-phone phone-right android">
            <img src="/img/screen_android.svg" class="img" />
          </div>
          <div class="img-phone phone-left ios">
            <img src="/img/screen_ios.svg" class="img" />
          </div>
        </div>
        <!-- /.col /.header-right -->
      </div>
      <!-- /.row -->
    </div>
    <!-- /.container -->
  </div>
  <!-- /.header-content -->
</section>

<!-- {{ partial "section_features" . }}  -->
{{/* Section 1 */}}
<div class="container">
  <section class="section-about top home">
    <div class="block block-about bg-white">
      <div class="row">
        {{ range .Params.section_1 }}
        <script>
          var body = document.body;
          var switcher = document.getElementsByClassName('js-toggle')[0];
        
          //Click on dark mode icon. Add dark mode classes and wrappers. Store user preference through sessions
          switcher.addEventListener("click", function() {
            console.log("test");
            var img = document.getElementById("wave_bottom");
            img.src="/img/wave_bottom_dark.svg";
            var img = document.getElementById("wave_top_2");
            img.src="/img/wave_top_2_dark.svg";
            var img = document.getElementById("wave_bottom_2");
            img.src="/img/wave_bottom_2_dark.svg";
            //If dark mode is selected
            if (this.classList.contains('js-toggle--checked')) {
            } else {
              var img = document.getElementById("wave_bottom");
              img.src="/img/wave_bottom.svg";
              var img = document.getElementById("wave_top_2");
              img.src="/img/wave_top_2.svg";
              var img = document.getElementById("wave_bottom_2");
              img.src="/img/wave_bottom_2.svg";
            }
          })
        
          //Check Storage. Keep user preference on page reload
          if (localStorage.getItem('darkMode')) {
            //body.classList.add('dark-mode');
            switcher.classList.add('js-toggle--checked');
            body.classList.add('dark-mode');
          }
        
        </script>
        <div class="col-lg-4">
          <div class="text-center">
            <div class="img-icon">
              {{ $img := $.Page.Resources.GetMatch .image }} {{ partial "img"
              (dict "ctx" . "src" .image "width" "120" "height" "120") }}
            </div>
            <h4>{{ .title }}</h4>
          </div>
        </div>
        {{ end }}
      </div>
      <div class="row mt-4">
        <div class="col-md-4">
          <div class="block-mixed-img">
            {{ partial "img" (dict "ctx" . "class" "img-open-source" "src"
            .Params.section_3.image "layout" "responsive" "width" "70" "height"
            "70") }}
          </div>
        </div>
        <div class="col-md-7">
          <div class="block-mixed-text">
            <h3>{{ .Params.section_3.title }}</h3>
            <ul>
              {{ range $index, $el := .Params.section_3.items }}
              <li>
                {{.}} {{ if eq $index 3 }} &nbsp;&nbsp;<a
                  class="btn btn-bty btn-blue icon-right"
                  href="{{ relLangURL `/contribute` }}"
                  role="button"
                  >{{ T "go_to_contribute_page" . }}<i
                    class="far fa-arrow-right"
                  ></i
                ></a>
                {{ end }}
              </li>
              {{ end }}
            </ul>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>
{{ partial "section_more" . }} {{ partial "section_articles" . }} {{ partial
"section_newsletter" . }} {{ partial "footer" . }}

<script src="{{ (resources.Get `js/lottie.js` | resources.Minify | fingerprint).RelPermalink }}"></script>
<script>
  lottie.loadAnimation({
    container: document.getElementById("distributed_web_anim"),
    renderer: "svg",
    loop: true,
    autoplay: true,
    path: '.{{ (resources.Get "animations/distributed_web_anim.json").RelPermalink }}',
  });
</script>
